!function(t){if(!(astra.single_product_ajax_add_to_cart||""))return!1;var a=function(){var a=t(".composite_form.single"),r=t(".wc-appointments-appointment-form"),e=t(".wc-measurement-price-calculator-price-table");if(0!=a.length||0!=r.length||0!=e.length)return!1;t(document.body).on("click","button.single_add_to_cart_button",this.onAddToCart).on("added_to_cart",this.updateButton)};a.prototype.onAddToCart=function(a){a.preventDefault();var r=t(this),e=t(this).val(),d=t('input[name="variation_id"]').val()||"",n=t('input[name="quantity"]').val();r.is(".single_add_to_cart_button")&&(r.removeClass("added"),r.addClass("loading"),d?jQuery.ajax({url:astra.ajax_url,type:"POST",data:"action=astra_add_cart_single_product&product_id="+e+"&variation_id="+d+"&quantity="+n,success:function(a){t(document.body).trigger("wc_fragment_refresh"),t(document.body).trigger("added_to_cart",[r])}}):jQuery.ajax({url:astra.ajax_url,type:"POST",data:"action=astra_add_cart_single_product&product_id="+e+"&quantity="+n,success:function(a){t(document.body).trigger("wc_fragment_refresh"),t(document.body).trigger("added_to_cart",[r])}}))},a.prototype.updateButton=function(a,r){1===t(r=void 0!==r&&r).parent().parent().find("button.single_add_to_cart_button").length&&(t(r).removeClass("loading"),t(r).addClass("added"),astra.is_cart||0!==t(r).parent().find(".added_to_cart").length||t(r).after(' <a href="'+astra.cart_url+'" class="added_to_cart wc-forward" title="'+astra.view_cart+'">'+astra.view_cart+"</a>"))},new a}(jQuery);